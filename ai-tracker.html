<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Pulse â€” New Tools & Funding Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #050810;
    --bg2: #0c1120;
    --bg3: #111827;
    --accent: #00f5c4;
    --accent2: #7c3aed;
    --accent3: #f59e0b;
    --text: #e2e8f0;
    --muted: #64748b;
    --border: rgba(255,255,255,0.07);
    --card: rgba(255,255,255,0.03);
    --glow: 0 0 30px rgba(0,245,196,0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Animated background grid */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(0,245,196,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,245,196,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  /* Header */
  header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(5,8,16,0.9);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    padding: 0 2rem;
  }

  .header-inner {
    max-width: 1300px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
  }

  .logo {
    font-family: 'Syne', sans-serif;
    font-weight: 800;
    font-size: 1.4rem;
    letter-spacing: -0.02em;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .logo-dot {
    width: 10px; height: 10px;
    background: var(--accent);
    border-radius: 50%;
    box-shadow: 0 0 12px var(--accent);
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
  }

  .logo span { color: var(--accent); }

  .header-right {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .live-badge {
    background: rgba(0,245,196,0.1);
    border: 1px solid rgba(0,245,196,0.3);
    color: var(--accent);
    font-size: 0.7rem;
    font-weight: 500;
    padding: 4px 10px;
    border-radius: 100px;
    letter-spacing: 0.1em;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .live-dot {
    width: 6px; height: 6px;
    background: var(--accent);
    border-radius: 50%;
    animation: pulse 1.5s infinite;
  }

  .refresh-btn {
    background: var(--card);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 8px 18px;
    border-radius: 8px;
    font-family: 'DM Mono', monospace;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .refresh-btn:hover {
    background: rgba(0,245,196,0.1);
    border-color: var(--accent);
    color: var(--accent);
  }

  .refresh-btn.loading { opacity: 0.6; cursor: not-allowed; }
  .refresh-icon { transition: transform 0.5s; display: inline-block; }
  .refresh-btn.loading .refresh-icon { animation: spin 1s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* Hero */
  .hero {
    position: relative;
    z-index: 1;
    max-width: 1300px;
    margin: 0 auto;
    padding: 4rem 2rem 2rem;
  }

  .hero h1 {
    font-family: 'Syne', sans-serif;
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 800;
    line-height: 1.05;
    letter-spacing: -0.03em;
    margin-bottom: 1rem;
  }

  .hero h1 em { color: var(--accent); font-style: normal; }
  .hero p { color: var(--muted); font-size: 0.95rem; max-width: 500px; line-height: 1.7; }

  /* Stats bar */
  .stats-bar {
    position: relative;
    z-index: 1;
    max-width: 1300px;
    margin: 0 auto 2rem;
    padding: 0 2rem;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .stat-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    flex: 1;
    min-width: 150px;
  }

  .stat-label { font-size: 0.7rem; color: var(--muted); letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 4px; }
  .stat-value { font-family: 'Syne', sans-serif; font-size: 1.8rem; font-weight: 700; }
  .stat-value.green { color: var(--accent); }
  .stat-value.purple { color: #a78bfa; }
  .stat-value.amber { color: var(--accent3); }

  /* Filters */
  .filters {
    position: relative;
    z-index: 1;
    max-width: 1300px;
    margin: 0 auto 2rem;
    padding: 0 2rem;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .filter-btn {
    background: var(--card);
    border: 1px solid var(--border);
    color: var(--muted);
    padding: 6px 16px;
    border-radius: 100px;
    font-family: 'DM Mono', monospace;
    font-size: 0.78rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .filter-btn:hover, .filter-btn.active {
    background: rgba(0,245,196,0.1);
    border-color: rgba(0,245,196,0.5);
    color: var(--accent);
  }

  .filter-btn.funding.active {
    background: rgba(124,58,237,0.15);
    border-color: rgba(124,58,237,0.5);
    color: #a78bfa;
  }

  /* Main grid */
  .main {
    position: relative;
    z-index: 1;
    max-width: 1300px;
    margin: 0 auto;
    padding: 0 2rem 4rem;
    display: grid;
    grid-template-columns: 1fr 340px;
    gap: 2rem;
  }

  @media (max-width: 900px) {
    .main { grid-template-columns: 1fr; }
  }

  /* Feed */
  .feed-title {
    font-family: 'Syne', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--muted);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
  }

  /* Cards */
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    transition: all 0.3s;
    cursor: pointer;
    animation: slideIn 0.4s ease forwards;
    opacity: 0;
    transform: translateY(10px);
  }

  @keyframes slideIn {
    to { opacity: 1; transform: translateY(0); }
  }

  .card:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(0,245,196,0.2);
    box-shadow: var(--glow);
    transform: translateY(-2px);
  }

  .card.funding-card:hover {
    border-color: rgba(124,58,237,0.3);
    box-shadow: 0 0 30px rgba(124,58,237,0.1);
  }

  .card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 0.75rem;
  }

  .card-badge {
    font-size: 0.65rem;
    font-weight: 500;
    padding: 3px 10px;
    border-radius: 100px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .badge-new { background: rgba(0,245,196,0.15); color: var(--accent); border: 1px solid rgba(0,245,196,0.3); }
  .badge-funding { background: rgba(124,58,237,0.15); color: #a78bfa; border: 1px solid rgba(124,58,237,0.3); }
  .badge-update { background: rgba(245,158,11,0.15); color: var(--accent3); border: 1px solid rgba(245,158,11,0.3); }

  .card-title {
    font-family: 'Syne', sans-serif;
    font-size: 1.05rem;
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: 0.5rem;
  }

  .card-meta {
    display: flex;
    gap: 1rem;
    font-size: 0.72rem;
    color: var(--muted);
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
  }

  .card-meta span { display: flex; align-items: center; gap: 4px; }

  .card-summary {
    font-size: 0.85rem;
    line-height: 1.65;
    color: #94a3b8;
  }

  .card-tags {
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
    margin-top: 1rem;
  }

  .tag {
    font-size: 0.68rem;
    padding: 2px 10px;
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    border-radius: 100px;
    color: var(--muted);
  }

  .funding-amount {
    font-family: 'Syne', sans-serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: #a78bfa;
    margin-top: 0.5rem;
  }

  /* Skeleton */
  .skeleton {
    background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.04) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 8px;
    height: 14px;
    margin-bottom: 8px;
  }
  @keyframes shimmer { to { background-position: -200% 0; } }

  .skeleton-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1rem;
  }

  /* Sidebar */
  .sidebar {}

  .sidebar-section {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .sidebar-title {
    font-family: 'Syne', sans-serif;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
  }

  .trending-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.6rem 0;
    border-bottom: 1px solid var(--border);
    font-size: 0.82rem;
    cursor: pointer;
    transition: color 0.2s;
  }

  .trending-item:last-child { border-bottom: none; }
  .trending-item:hover { color: var(--accent); }

  .trend-rank {
    font-family: 'Syne', sans-serif;
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--border);
    width: 24px;
    flex-shrink: 0;
  }

  .trend-name { flex: 1; }
  .trend-badge { font-size: 0.65rem; padding: 2px 8px; background: rgba(0,245,196,0.1); color: var(--accent); border-radius: 100px; }

  /* Search */
  .search-wrap {
    position: relative;
    margin-bottom: 1.5rem;
  }

  .search-input {
    width: 100%;
    background: var(--card);
    border: 1px solid var(--border);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 0.85rem;
    padding: 10px 16px 10px 42px;
    border-radius: 10px;
    outline: none;
    transition: border-color 0.2s;
  }

  .search-input:focus { border-color: rgba(0,245,196,0.4); }
  .search-input::placeholder { color: var(--muted); }

  .search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--muted);
    font-size: 0.9rem;
  }

  /* Toast */
  .toast {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: var(--bg2);
    border: 1px solid var(--accent);
    color: var(--accent);
    padding: 12px 20px;
    border-radius: 10px;
    font-size: 0.82rem;
    box-shadow: var(--glow);
    z-index: 1000;
    transform: translateY(100px);
    opacity: 0;
    transition: all 0.3s;
  }

  .toast.show { transform: translateY(0); opacity: 1; }

  /* Empty state */
  .empty {
    text-align: center;
    padding: 3rem;
    color: var(--muted);
    font-size: 0.85rem;
  }

  /* Prompt area */
  .ai-search-box {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .ai-search-box-title {
    font-size: 0.72rem;
    color: var(--accent);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-bottom: 0.75rem;
  }

  .ai-query-input {
    width: 100%;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 0.82rem;
    padding: 10px 14px;
    border-radius: 8px;
    outline: none;
    resize: none;
    transition: border-color 0.2s;
    margin-bottom: 0.75rem;
  }

  .ai-query-input:focus { border-color: rgba(0,245,196,0.4); }
  .ai-query-input::placeholder { color: var(--muted); }

  .ask-btn {
    background: linear-gradient(135deg, rgba(0,245,196,0.2), rgba(124,58,237,0.2));
    border: 1px solid rgba(0,245,196,0.3);
    color: var(--accent);
    font-family: 'DM Mono', monospace;
    font-size: 0.8rem;
    padding: 8px 18px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
  }

  .ask-btn:hover { opacity: 0.8; transform: scale(0.99); }
  .ask-btn:disabled { opacity: 0.5; cursor: not-allowed; }

  .ai-response {
    margin-top: 0.75rem;
    font-size: 0.82rem;
    color: #94a3b8;
    line-height: 1.65;
    border-top: 1px solid var(--border);
    padding-top: 0.75rem;
    display: none;
  }

  .ai-response.visible { display: block; }

  .loading-dots span {
    animation: blink 1.4s infinite;
    display: inline-block;
  }
  .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
  .loading-dots span:nth-child(3) { animation-delay: 0.4s; }
  @keyframes blink { 0%,80%,100% { opacity: 0; } 40% { opacity: 1; } }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">
      <div class="logo-dot"></div>
      AI<span>Pulse</span>
    </div>
    <div class="header-right">
      <div class="live-badge"><div class="live-dot"></div> LIVE</div>
      <button class="refresh-btn" id="refreshBtn" onclick="loadAllNews()">
        <span class="refresh-icon">â†»</span> Refresh
      </button>
    </div>
  </div>
</header>

<div class="hero">
  <h1>Naye AI Tools aur<br><em>Funding</em> ki<br>Latest News</h1>
  <p>Jo bhi naya AI tool launch ho, ya kisi ko funding mile â€” sab kuch ek jagah, real-time mein.</p>
</div>

<div class="stats-bar">
  <div class="stat-card">
    <div class="stat-label">Aaj ke New Tools</div>
    <div class="stat-value green" id="toolCount">â€”</div>
  </div>
  <div class="stat-card">
    <div class="stat-label">Funding Rounds</div>
    <div class="stat-value purple" id="fundingCount">â€”</div>
  </div>
  <div class="stat-card">
    <div class="stat-label">Total Funding</div>
    <div class="stat-value amber" id="totalFunding">â€”</div>
  </div>
  <div class="stat-card">
    <div class="stat-label">Last Updated</div>
    <div class="stat-value" style="font-size:0.9rem;color:var(--muted)" id="lastUpdated">â€”</div>
  </div>
</div>

<div class="filters">
  <button class="filter-btn active" onclick="setFilter('all', this)">ğŸ”¥ Sab Kuch</button>
  <button class="filter-btn" onclick="setFilter('new', this)">ğŸš€ Naye Tools</button>
  <button class="filter-btn funding" onclick="setFilter('funding', this)">ğŸ’° Funding</button>
  <button class="filter-btn" onclick="setFilter('update', this)">âš¡ Updates</button>
</div>

<div class="main">
  <div>
    <div class="search-wrap">
      <span class="search-icon">ğŸ”</span>
      <input class="search-input" id="searchInput" placeholder="Koi bhi AI tool ya company search karo..." oninput="filterCards()">
    </div>
    <div class="feed-title">Live Feed</div>
    <div id="feed">
      <!-- Skeleton loaders -->
      <div class="skeleton-card"><div class="skeleton" style="width:30%"></div><div class="skeleton" style="width:70%"></div><div class="skeleton" style="width:90%"></div><div class="skeleton" style="width:60%"></div></div>
      <div class="skeleton-card"><div class="skeleton" style="width:25%"></div><div class="skeleton" style="width:80%"></div><div class="skeleton" style="width:85%"></div><div class="skeleton" style="width:50%"></div></div>
      <div class="skeleton-card"><div class="skeleton" style="width:35%"></div><div class="skeleton" style="width:65%"></div><div class="skeleton" style="width:90%"></div><div class="skeleton" style="width:70%"></div></div>
    </div>
  </div>

  <div class="sidebar">
    <div class="ai-search-box">
      <div class="ai-search-box-title">âœ¨ AI se Poochho</div>
      <textarea class="ai-query-input" id="aiQuery" rows="2" placeholder="e.g. Cursor AI ke baare mein batao, ya is hafte ki top funding deals?"></textarea>
      <button class="ask-btn" id="askBtn" onclick="askAI()">AI se Jawaab Pao â†’</button>
      <div class="ai-response" id="aiResponse"></div>
    </div>

    <div class="sidebar-section">
      <div class="sidebar-title">ğŸ”¥ Trending Tools</div>
      <div id="trendingList">
        <div class="skeleton" style="height:40px;margin-bottom:8px;border-radius:8px"></div>
        <div class="skeleton" style="height:40px;margin-bottom:8px;border-radius:8px"></div>
        <div class="skeleton" style="height:40px;border-radius:8px"></div>
      </div>
    </div>

    <div class="sidebar-section">
      <div class="sidebar-title">ğŸ’° Top Funding Rounds</div>
      <div id="topFunding">
        <div class="skeleton" style="height:40px;margin-bottom:8px;border-radius:8px"></div>
        <div class="skeleton" style="height:40px;border-radius:8px"></div>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
let allCards = [];
let currentFilter = 'all';

// â”€â”€â”€ Anthropic API call â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function callClaude(prompt) {
  const res = await fetch("https://api.anthropic.com/v1/messages", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    "x-api-key": "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",
"anthropic-version": "2023-06-01",
    body: JSON.stringify({
      model: "claude-sonnet-4-20250514",
      max_tokens: 1000,
      system: `You are an AI industry news tracker. Always respond in JSON format only, no markdown, no backticks. Respond in Hinglish (Hindi + English mix) where appropriate for summaries but use English for names/amounts.`,
      messages: [{ role: "user", content: prompt }]
    })
  });
  const data = await res.json();
  return data.content[0].text;
}

// â”€â”€â”€ Load news feed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadAllNews() {
  const btn = document.getElementById('refreshBtn');
  btn.classList.add('loading');
  btn.disabled = true;

  try {
    const raw = await callClaude(`
      Generate a realistic, current JSON array of 10 recent AI news items from 2024-2025.
      Mix of new tool launches and funding rounds. Each item:
      {
        "id": number,
        "type": "new" | "funding" | "update",
        "title": "...",
        "company": "...",
        "summary": "2-3 sentences in Hinglish about this tool/funding. Interesting aur engaging likhna.",
        "date": "Feb 2025" style,
        "tags": ["tag1","tag2","tag3"],
        "amount": "only if funding, e.g. $50M Series B",
        "category": "LLM" | "Coding" | "Image" | "Voice" | "Agent" | "Productivity"
      }
      Return ONLY the JSON array, no other text.
    `);

    const items = JSON.parse(raw.trim());
    allCards = items;
    renderFeed(items);
    updateStats(items);
    renderTrending(items);
    renderTopFunding(items);
    showToast("âœ“ Feed updated!");
  } catch(e) {
    showToast("Error: " + e.message);
    document.getElementById('feed').innerHTML = '<div class="empty">âš ï¸ News load nahi ho saka. Dobara try karo.</div>';
  }

  btn.classList.remove('loading');
  btn.disabled = false;
}

// â”€â”€â”€ Render feed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderFeed(items) {
  const filtered = items.filter(i => {
    if (currentFilter !== 'all' && i.type !== currentFilter) return false;
    const q = document.getElementById('searchInput').value.toLowerCase();
    if (q && !i.title.toLowerCase().includes(q) && !i.company.toLowerCase().includes(q) && !i.summary.toLowerCase().includes(q)) return false;
    return true;
  });

  if (!filtered.length) {
    document.getElementById('feed').innerHTML = '<div class="empty">ğŸ” Koi result nahi mila</div>';
    return;
  }

  document.getElementById('feed').innerHTML = filtered.map((item, idx) => `
    <div class="card ${item.type === 'funding' ? 'funding-card' : ''}" style="animation-delay:${idx*0.06}s" onclick="openLink('${item.company}')">
      <div class="card-header">
        <div class="card-title">${item.title}</div>
        <span class="card-badge badge-${item.type}">${item.type === 'new' ? 'ğŸš€ New' : item.type === 'funding' ? 'ğŸ’° Funding' : 'âš¡ Update'}</span>
      </div>
      <div class="card-meta">
        <span>ğŸ¢ ${item.company}</span>
        <span>ğŸ“… ${item.date}</span>
        <span>ğŸ· ${item.category}</span>
      </div>
      ${item.amount ? `<div class="funding-amount">${item.amount}</div>` : ''}
      <div class="card-summary">${item.summary}</div>
      <div class="card-tags">${item.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
    </div>
  `).join('');
}

function openLink(company) {
  showToast(`ğŸ” ${company} ke baare mein search kar rahe hain...`);
}

// â”€â”€â”€ Stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateStats(items) {
  const tools = items.filter(i => i.type === 'new').length;
  const fundings = items.filter(i => i.type === 'funding');
  document.getElementById('toolCount').textContent = tools;
  document.getElementById('fundingCount').textContent = fundings.length;
  
  // Parse funding amounts
  let total = 0;
  fundings.forEach(f => {
    const m = f.amount?.match(/\$(\d+(?:\.\d+)?)(M|B)?/i);
    if (m) total += parseFloat(m[1]) * (m[2]?.toUpperCase() === 'B' ? 1000 : 1);
  });
  document.getElementById('totalFunding').textContent = total > 0 ? `$${total}M+` : 'â€”';
  
  const now = new Date();
  document.getElementById('lastUpdated').textContent = now.toLocaleTimeString('en-IN', {hour:'2-digit', minute:'2-digit'});
}

// â”€â”€â”€ Trending â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderTrending(items) {
  const newTools = items.filter(i => i.type === 'new').slice(0, 5);
  document.getElementById('trendingList').innerHTML = newTools.map((item, i) => `
    <div class="trending-item">
      <div class="trend-rank">${i+1}</div>
      <div class="trend-name">${item.company}</div>
      <span class="trend-badge">${item.category}</span>
    </div>
  `).join('');
}

// â”€â”€â”€ Top Funding â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderTopFunding(items) {
  const fundings = items.filter(i => i.type === 'funding').slice(0, 4);
  document.getElementById('topFunding').innerHTML = fundings.map(item => `
    <div class="trending-item">
      <div class="trend-name">${item.company}</div>
      <span style="color:#a78bfa;font-size:0.78rem;font-family:'Syne',sans-serif;font-weight:700">${item.amount || 'â€”'}</span>
    </div>
  `).join('') || '<div style="color:var(--muted);font-size:0.82rem">Koi funding news nahi</div>';
}

// â”€â”€â”€ Filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setFilter(type, btn) {
  currentFilter = type;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderFeed(allCards);
}

function filterCards() {
  renderFeed(allCards);
}

// â”€â”€â”€ Ask AI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function askAI() {
  const q = document.getElementById('aiQuery').value.trim();
  if (!q) return;
  
  const btn = document.getElementById('askBtn');
  const resp = document.getElementById('aiResponse');
  
  btn.disabled = true;
  resp.className = 'ai-response visible';
  resp.innerHTML = '<span class="loading-dots"><span>â—</span><span>â—</span><span>â—</span></span>';

  try {
    const context = allCards.map(c => `${c.company}: ${c.title} (${c.type})`).join('; ');
    const raw = await fetch("https://api.anthropic.com/v1/messages", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      "x-api-key": "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",
"anthropic-version": "2023-06-01",
      body: JSON.stringify({
        model: "claude-sonnet-4-20250514",
        max_tokens: 1000,
        system: `You are a helpful AI news assistant. Answer in Hinglish (Hindi+English mix). Keep it concise. Current AI news context: ${context}`,
        messages: [{ role: "user", content: q }]
      })
    });
    const data = await raw.json();
    resp.innerHTML = data.content[0].text.replace(/\n/g, '<br>');
  } catch(e) {
    resp.innerHTML = 'âš ï¸ Jawab nahi aa saka. Dobara try karo.';
  }
  
  btn.disabled = false;
}

// â”€â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3000);
}

// Enter key for AI search
document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('aiQuery').addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); askAI(); }
  });
  loadAllNews();
  
  // Auto-refresh every 5 minutes
  setInterval(loadAllNews, 5 * 60 * 1000);
});
</script>
</body>
</html>
